language: node_js
sudo: false
node_js:
  - '5.4.1'

env:
  - CXX=g++-4.8

cache:
  directories:
    - node_modules

install:
  - npm install

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-4.8
  sauce_connect:
    username: "SteveVanOpstal"
    access_key:
      secure: "Oh1/z+sYb7emqapsY22oFh3NkYyI69MJwuhDZsTi9/8aSdMFnfU9CQ0Cn4oJ2AOO3oT23LPeWnv4fZn6KgvuouXPRLf8mQHudQ//ifOINKq9BOxD59CpM2yUB5ON9rO5RR3SY1L5njZ+FXpue9YOsBWBJV4Rp/L2D1whPwtAklKTbvZHHJfBXbzKdCBVkd0Aui46vg1RN28s0rPXN6OJAfH9jqpGsIZIZROPnpQtlb8gY4HnwQGOXmFIwz3jV1RCNJ69voUh6cvs4RONdBUmQR2HgnCs+3Yxrcl3IlcqasXmZqwmzoCn8dnXe54jtJutSdoj23048lRH/bGymKvEvqwAGHSzmSg7HeKz22vdlTJbpfy81PfBqZInb0S4xDuWo5OMxrncL+rIYpJRod+W/X9+owoZzIvcuicPj3UvA6XbAknvV4YFxpPA+3NXZAgPKxGawLOz4vZnpxwNnPsApvR4kRGfqOV530eGVs9tL9XzuciwV9EGIxsTOBhZucBxfK16wsX6h6K37IEYzDyJzEzfZkJLDsae7o42ChKbYgdZUfqtMTwCUncHZ2xDHB5bFT/HuACW/tdFfrJddnCs7jP3JBfBb425z2oVGeAArF2Xs21iJZHHYSTxo7C55x8NIJ/bTaxT/ktxyo1Id+NBlvw0rJohXI26aCZXm8eTZ/c="

before_script:
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start
  - sleep 3 # give xvfb some time to start

script:
  - npm run build
  - npm run test

after_script:
  - npm run coveralls